<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="xapax">
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Attacking External Networks - Notes</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "External Pentesting", url: "#_top", children: [
              {title: "Verify the IP a client provided", url: "#verify-the-ip-a-client-provided" },
              {title: "Some Notes", url: "#some-notes" },
              {title: "Nessus", url: "#nessus" },
              {title: "OSINT", url: "#osint" },
              {title: "Attacking Login Portals", url: "#attacking-login-portals" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-link">
        List of Common Ports
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-link">
        List of Common Ports
      </a>
    </div>
    
  </div>

    

    <h1 id="external-pentesting">External Pentesting<a class="headerlink" href="#external-pentesting" title="Permanent link">#</a></h1>
<h2 id="verify-the-ip-a-client-provided">Verify the IP a client provided<a class="headerlink" href="#verify-the-ip-a-client-provided" title="Permanent link">#</a></h2>
<p><a href="https://bgp.he.net">Check the ASN</a></p>
<h2 id="some-notes">Some Notes<a class="headerlink" href="#some-notes" title="Permanent link">#</a></h2>
<p>The chances of getting RCE on an external-facing web is very low</p>
<p>We'll likely see vulns in a weak pwd policy, lack of MFA, weak controls, etc.</p>
<p>We should do OSINT an logical guessing</p>
<p>We need to ensure we don't attack aspects that won't get us into the internal systems (keep in mind this isn't web app pentesting)
- We could try getting into a login portal using default creds, SQL injection, etc
- Gather data (OSINT) and use that against login portals
- Concentrate on the external infrastructure and focus attacks there</p>
<h2 id="nessus">Nessus<a class="headerlink" href="#nessus" title="Permanent link">#</a></h2>
<p>Ensure we scan web apps</p>
<p>Ensure we do generic web app tests</p>
<p>Once done, we export Nessus to PDF - Executive Summary - Custom to include everything</p>
<p>We can use a Nessus parser (http://melcara.com) that will produce a nice report</p>
<h2 id="osint">OSINT<a class="headerlink" href="#osint" title="Permanent link">#</a></h2>
<p>Through OSINT we should have identified:
- Login portals
- Possible employees / emails
- Pwd strategies to employ</p>
<h2 id="attacking-login-portals">Attacking Login Portals<a class="headerlink" href="#attacking-login-portals" title="Permanent link">#</a></h2>
<p>Keep in mind:
- Account lockout policies
- Time available</p>
<h3 id="attacking-o365">Attacking O365<a class="headerlink" href="#attacking-o365" title="Permanent link">#</a></h3>
<p>Ties in neatly with Active Directory so it's used often
MS has become better at preventing attacks. They can detect pwd spraying and block IPs. They also give false notifications and alerts
However, if we can log in there's a lot we can do, e.g. Email, OneDrive</p>
<p>Use: 
<a href="https://github.com/blacklanternsecurity/TREVORspray">trevorspray</a></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-link">
        List of Common Ports
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../../attacking_internal_network/list_of_common_ports/" class="btn btn-xs btn-link">
        List of Common Ports
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/xapax/edit/master/docs/attacking_external_network/attacking_external_networks.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>